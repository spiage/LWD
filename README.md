# Long way to Desktop

> Придумал, куда записывать мысли
> * не думаю, что Дума подумала, что переход на линуксы приведёт к спаду рождаемости

## На всякий случай бэкграунд

Начал программировать в 1991 на МК-61; в 1992 BASIC и Pascal на cp/m Z80; позднее в 1992 пересел на Тurbo/Borland Pascal, C++, Assembler под DOS + к ним MASM позже под Windows 3.1-95 (по TP/BP только хелп по F1 из всей доступной информации был, выигрывал на нём городские и областные олимпиады)

В 1993 устроился на свою первую официальную работу программистом, где впервые увидел базы данных и научился работать с FoxPro (Clipper и Clarion учил из любопытства). Очень повезло с наставником @МГК, который много-много лет продолжал помогать развивать профессиональный кругозор

В 1998-1999 C/C++, NASM (был одним из переводчиков документации на русский) и Java под RedHat/Caldera/Slackware, а потом познакомился с FreeBSD (низкий поклон @dadv, когда я последовал совету из книг и "выбрал дистрибутив, которым пользовался мой ближайший знакомый Гуру")

Параллельно играл с Kylix, Delphi и CBuilder

С 2003 плотно засел программистом под Windows на 1С + MS SQL Server, а фряша дома для удовольствия второй ОС или просто в виртуалке DE текущие посмотреть

Последней работой на FreeBSD была халтура в 2004 для колбасного комбината за _еду_: настройка файрвола, удалённого входа ssh + vnc, транспарент прокси с вёдрами, почты с белкой, файловой шары с програмным raid1 на vinum вроде, доктор веб для почты и шары, и ещё что-то хитрое с бездисковым терминалом до Citrix с 1С

В 2006 пересел на Net Framework 2.0 + Oracle

В начале апреля 2016 поставил Ubuntu 14.04LTS, дождался 16.04LTS и при обновлении система рухнула :), больше в Linux не пробовал (GitLab и Jira пару лет назад не считаются, там next-next-next)

## Поехали

В конце весны 2023 пришлось начать повторный вход в Linux, думаю, по понятным причинам. Времени у меня в запасе минимум год до момента, когда начнём обслуживать модули поддерживаемой нами информационной системы (150 серверов, 20 000 пользователей) уже на Linux, поэтому могу позволить себе R&D "Linux as Desktop" без суеты и пыли (так как клиентская часть тоже переедет, решил побыть в шкуре пользователя и самому дома пожить в Linux). Также стало очень любопытно посмотреть на состояние российских дистрибутивов, новости пролетали перед глазами, но в детали не вникал

Для опытов купил J4125M и несколько запчастей, поставил Astra Linux CE для начала (купил заодно книгу "Astra Linux. Установка, настройка, администрирование", автор Матвеев И.Д. _!!!перепечатка <u>устаревших</u> статей из интернета, которые не релевантны версии ALSE, указанной в книге; скриншотов много, нет, даже Очень Много, им даже вода в тексте мешает!!!_)

Предыдущий опыт (не актуальный, как позже выяснил) определил приоритет в сторону дистрибутивов с поддержкой сборки из исходников, на основном ПК в Hyper-V появились Astra Linux SE, Debian, LFS, CRUX, Calculate Linux, NuTyX, Gentoo, Arch и MacOS в qemu, а второй ПК теперь грустно стоит, ждёт, когда я доберусь до R&D "Linux as server"

По предыдущему негативному опыту с обновлениями придумал себе игру с установкой последних стабильных версии и максимально новых

Также смотрел на системы управления пакетами, совмещение установки из исходников и бинарных пакетов

После установки второго ssd на основной ПК _(Intel, NVidia, монитор 4K, 150% глобальный масштаб, а также постепенно обзаведясь Microsoft Edge, VMware Horizon Client, Yandex Browser, Telegram, VS Code и RuPost Desktop - это позже повлияет на выбор из вариантов, внося ограничения, и добавляя красноты глазам при установке и настройке)_ торжественно поставил Astra Linux SE

А потом Debian sid; стабильные, immutable и rolling версии openSUSE; стабильные, immutable и rolling версии Fedora; Gentoo, Calculate Linux, MX Linux, Ubuntu, Kubuntu, Kaisen Linux (оставил этот швейцарский нож для администраторов и программистов как LiveCD), Rhino, KaOS, Alt Linux, РЕД ОС

Также использовал /home/spiage на отдельном разделе для каждого дистрибутива, переключаясь между ними. Было интересно наблюдать за сохранением настроек программ (или не сохранением) и ждать - разрушит ли дистрибутив настройки plasma-desktop в моём профиле

Очень сильно помогли rEFInd (1.14 ставить нужно для нативной поддержки btrfs, это умный загрузчик, который позволяет обходиться без grub для всех установленных в моём "зоопарке" дистрибутивов) и Ventoy (вместо флешки подцепил старый ssd через переходник к USB 3.1 - скорость установки в разы выше, чем с флешки; при создании один раздел под сам загрузчик, который со второго раздела предлагает загрузить любой из скопированных туда заранее iso LiveCD/инсталлятора, также сделал третий раздел, чтобы при необходимости с LiveCD туда что-нибудь записать + использую для бэкапа /home, /boot/EFI и конфигов с установленных дистрибутивов)

## Что осталось только в Windows

Очень сильно огорчило отсутствие "родного" клиента WhatsApp, так как моим родителям очень удобно в видеозвонки на нём.

Также огорчило отсутствие Windows Hello, для которого я покупал вебкамеру с поддержкой IR (Logitech Brio 4K)

Отсутствие Punto Switcher ещё одна проблема, при этом, учитывая, что wayland сейчас мейнстрим - никаких шансов в ближайшей перспективе. Пробовал xneur, работает в KDE с косяками, так как давно не поддерживается, если сильно припрёт, то попробую форкнуть и переделать.

## К чему привык с FreeBSD

Софт я привык собирать из портов (make и буукоовкиии начинают радовать глаз, ну или "-s", если хочешь быстрее), в новых версиях после инсталляции с bootonly или mini-memstick ставил пакетами Xfce, браузер что-нибудь почитать, и потом пальцы на автомате уже обновляют порты, ставят сто лет как появившийся во FreeBSD "родной" драйвер NVidia _(с красными картами и процессорами перестал пробовать после того, как году в 2006 дал шанс Windsor 5200+ и не помню уже какой Radeon X1x00, пришлось тогда срочно двухкомнатную квартиру искать, так как было лето и открытые форточки не спасали от тепла, и звук при даже небольшой нагрузке был как на моём пылящемся сейчас ноуте с GTX1080, когда проходил ME Andromeda в 4К@30Hz+HDR :) )_, а дальше какую-нибудь из попавшихся в новостях DE, благо их тут есть все

Также в голове плотно сидел следующий шаблон для обновления ОС: подготовил обновление, загрузился в собранное с новыми либами generic ядро с попыткой использовать новые либы/базу - если ОК, то пробуешь со своим конфигом ядро, если нет, то откат и загрузился в предыдущую базу с предыдущим ядром

И установка всего, что не входит в OS, в /usr/local, а также в /compat пакеты бинарной совместимости с Linux, для установки close-source ПО, которое отсутствует в портах или бинарных пакетах FreeBSD - ядро умеет эмулировать системные вызовы Linux

## Личный взгляд на <s>безопасность</s> потери

С точки зрения репутационных, финансовых и социальных потерь можно оценить конфидециальность, целостность и доступность в качестве факторов безопасности для моего десктопа (заодно для домашнего сервера и для ноутбука). И, чтобы не включать паранойю, постараться оценить затраты, которые я готов принять, и те риски, которые я не буду покрывать полностью или частично
